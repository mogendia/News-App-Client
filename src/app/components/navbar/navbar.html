<nav class="navbar navbar-expand-lg navbar-light bg-danger">
  <div class="container-fluid">

    <!-- ๐ฐ Logo + Title -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="./favicon.ico" alt="Logo" width="40" height="40" class="me-2" />
      <div>
        <div class="text-white w-bold fs-5 me-4">ุงูุจูุตูููููููุฉ</div>
        <small class="text-white me-4">ุงูููุจูููุตูููููุฉ.. ุงูุญููููููุฉ ููุง ุงุชูุฌูุงู</small>
      </div>
    </a>

    <!-- โฐ Toggler Button -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarContent"
      aria-controls="navbarContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- ๐ Main Navbar Content -->
    <div class="collapse navbar-collapse" id="navbarContent">


      <!-- ๐ Centered Search Form -->
      <form class="d-flex mx-auto w-50" (ngSubmit)="searchNews()">
        <input
          type="text"
          class="form-control me-2"
          placeholder="ุงุจุญุซ ุนู ุฎุจุฑ"
          [(ngModel)]="searchTerm"
          name="searchTerm"
        />
        <button class="btn btn-outline-success" type="submit">
          <i class="material-icons">search</i>
        </button>
      </form>
      <!-- ๐ ุงูุฃูุณุงู Dropdown -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown" *ngIf="sectionList.length > 0">
          <a
            class="nav-link dropdown-toggle text-white"
            href="#"
            id="sectionsDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            ุงูุฃูููุณููุงู
          </a>
          <ul class="dropdown-menu" aria-labelledby="sectionsDropdown">
            <ng-container *ngFor="let section of sectionList">
              <li class="dropdown-item d-flex justify-content-between align-items-center">
                <a
                  [routerLink]="['/sections', section.id]"
                  class="text-dark text-decoration-none flex-grow-1"
                  [ngClass]="authService.getIsSuperAdmin() ? 'text-start' : 'text-center'"
                >
                  {{ section.name }}
                </a>
                <ng-container *ngIf="authService.getIsSuperAdmin()">
                  <button class="btn btn-sm btn-outline-primary me-1" (click)="editSection(section.id)">โ๏ธ</button>
                  <button class="btn btn-sm btn-outline-danger" (click)="deleteSection(section.id)">โ</button>
                </ng-container>
              </li>
            </ng-container>
            <li><hr class="dropdown-divider" /></li>
            <li *ngIf="authService.getIsSuperAdmin()">
              <button class="dropdown-item btn btn-sm btn-success w-100" (click)="goToAddSection()">โ ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ</button>
            </li>
          </ul>
        </li>

        <!-- ๐ง Super Admin Menu -->
        <li class="nav-item dropdown" *ngIf="authService.getIsSuperAdmin()">
          <a
            class="nav-link dropdown-toggle text-white"
            href="#"
            id="superAdminDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            ุณูุจุฑ ูุดุฑู
          </a>
          <ul class="dropdown-menu text-center" aria-labelledby="superAdminDropdown">
            <li>
              <button class="btn btn-primary mb-2 w-100" [routerLink]="['/pending-news']">ุงูุฃุฎุจุงุฑ ุงููุนููุฉ</button>
            </li>
            <li>
              <button class="btn btn-primary mb-2 w-100" [routerLink]="['/admins']">ุฅุฏุงุฑุฉ ุงููุดุฑููู</button>
            </li>
          </ul>
        </li>
      </ul>

      <!-- ๐ Auth Menu -->
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle text-white"
            href="#"
            id="authDropdown"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            {{ authService.isAuthenticated() ? 'ุชุณุฌูู ุงูุฎุฑูุฌ' : 'ุชุณุฌูู ุงูุฏุฎูู' }}
          </a>
          <ul class="dropdown-menu text-center" aria-labelledby="authDropdown">
            <li *ngIf="!authService.getIsSuperAdmin()">
              <button class="btn btn-primary mb-2 w-100" [routerLink]="['/login']">ุชุณุฌูู ุงูุฏุฎูู</button>
            </li>
            <li *ngIf="authService.getIsSuperAdmin()">
              <button class="btn btn-danger mb-2 w-100" (click)="authService.logout()">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </li>
            <li *ngIf="authService.getIsSuperAdmin()">
              <a class="btn btn-secondary mb-2 w-100" [routerLink]="['/register-admin']">ุงูุดุงุก ุญุณุงุจ ูุดุฑู</a>
              <a class="btn btn-secondary w-100" [routerLink]="['/register-superadmin']">ุญุณุงุจ ุณูุจุฑ ูุดุฑู</a>
            </li>
          </ul>
        </li>
      </ul>

    </div>
  </div>
</nav>
