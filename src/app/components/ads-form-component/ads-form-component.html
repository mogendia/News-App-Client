<div class="container mt-5" dir="rtl">
  <h2 class="mb-4">{{ isEditMode ? 'تعديل الإعلان' : 'إضافة إعلان' }}</h2>

  <form [formGroup]="form" (ngSubmit)="save()">

    <!-- العنوان -->
    <div class="mb-3">
      <label class="form-label">عنوان الإعلان</label>
      <input type="text" class="form-control" formControlName="title" placeholder="اكتب عنوان الإعلان">
    </div>

    <!-- المحتوى -->
    <div class="mb-3">
      <label class="form-label">محتوى الإعلان</label>
      <textarea class="form-control" rows="4" formControlName="description" placeholder="اكتب وصفًا مختصرًا"></textarea>
    </div>

    <!-- الصورة -->
    <div class="mb-3">
      <label class="form-label">صورة / فيديو الإعلان</label>
      <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*,video/*">
    </div>

    <!-- المعاينة -->
    <div *ngIf="previewUrl" class="mb-3">
      <label class="form-label">معاينة:</label>
      <img *ngIf="previewUrl.endsWith('.jpg') || previewUrl.endsWith('.png') || previewUrl.endsWith('.jpeg') || previewUrl.startsWith('data:image')"
           [src]="previewUrl" class="img-fluid rounded" style="max-height: 300px;">
      <video *ngIf="previewUrl.endsWith('.mp4') || previewUrl.endsWith('.webm') || previewUrl.endsWith('.ogg')"
             [src]="previewUrl" class="w-100" height="300" controls></video>
    </div>

    <!-- الزر -->
    <button class="btn btn-primary mb-5" type="submit">
      {{ isEditMode ? 'حفظ التعديل' : 'إضافة الإعلان' }}
    </button>
  </form>
</div>
